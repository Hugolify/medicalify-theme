{{- $items := slice
  (dict "type" "phone" "value" .phone)
  (dict "type" "fax" "value" .fax)
  (dict "type" "email" "value" .email)
  (dict "type" "doctolib" "value" .doctolib)
}}
{{- $contacts := slice }}
{{- range $items }}
  {{- if .value }}
    {{- $contacts = $contacts | append . }}
  {{- end }}
{{- end }}

{{- with $contacts }}
  <ul>
    {{- range . }}
      <li class="{{ .type}}">{{ partial (printf "commons/contact/%s.html" .type) .value }}</li>
    {{- end }}
  </ul>
{{- end }}